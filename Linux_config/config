# i3 config file by Levinit  https://github.com/levinit
# see http://i3wm.org/docs/userguide.html for a complete reference!

# Super key(mod4 =windows logo key/Command key)
set $mod Mod4

#===autostart parograms===
bindsym $mod+z exec --no-startup-id morc_menu
exec --no-startup-id xcompmgr #exec --no-startup-id xcompmgr &
exec --no-startup-id mate-power-manager
exec --no-startup-id nm-applet
exec --no-startup-id fcitx
exec --no-startup-id volumeicon
exec --no-startup-id nitrogen --restore; sleep 1;
#===programs shortcuts===

# dmenu (a program launcher)
bindsym $mod+d exec --no-startup-id i3-dmenu-desktop
bindsym $mod+Shift+a exec --no-startup-id flameshot gui

# terminal
#bindsym $mod+Return exec --no-startup-id i3-sensible-terminal
bindsym $mod+Return exec xfce4-terminal

# xfce drop down terminal
#bindsym mod1+slash exec xfce4-terminal --drop-down

# browsers--firefox chromium
#bindsym $mod+Shift+f exec firefox
#bindsym $mod+Shift+c exec chromium

# printscreen--scrot(Print=PrtSc/PrintScreen)
bindsym $mod+Print exec scrot

# GUI file manager -- thunar
bindsym $mod+e exec --no-startup-id thunar

# xfce4 app finder
bindsym mod1+d exec --no-startup-id xfce4-appfinder

# bar toggle, hide or show
bindsym $mod+m bar mode toggle

#===appearance===
#---window style---

# window gap
gaps inner 2
gaps outer 0
smart_gaps on

# new window
new_window none
new_float normal
hide_edge_borders both

# window colors
#  class                 border   backgr.  text  indicator  child_border
#client.focused          #4c7899  #285577  #ffffff  #2e9ef4   #285577
#client.focused_inactive #81c2d6  #5f676a  #ffffff  #484e50   #0b6e48
#client.unfocused        #c9cabb  #222222  #888888  #292d2e   #222222
#client.urgent           #2f343a  #900000  #ffffff  #199475   #900000
#client.placeholder      #a2b4ba  #0c0c0c  #ffffff  #1793d0   #0c0c0c
#client.background       #82abba
#设置窗口边框为1个像素
for_window [class="^.*"] border pixel 1
# popups
for_window [window_role="pop-up"] floating enable
for_window [window_role="task_dialog"] floating enable

# float programs(find the programs'names in "/usr/share/applictions")
for_window [class="Gpicview"] floating enable
for_window [class="mpv"] floating enable
for_window [class="Gimp"] floating enable
for_window [class="Xarchiver"] floating enable
for_window [class="Genymotion"] floating enable
for_window [class="Vlc"] floating enable
for_window [class="VirtualBox"] floating enable
for_window [class="Thunar"] floating enable
for_window [class="shadowsocks-qt5"] floating enable
for_window [class="Catfish"] floating enable
for_window [class="Xfce4-appfinder"] floating enable


#---wallpaper---

# static mode
#exec --no-startup-id feh --bg-scale "~/Pictures/wallpapers/wallpaper.jpg"

# random mode
#exec --no-startup-id  ~/.config/i3/wallpaper.sh &

# font
# i3status font
font xft:URWGothic-Book 15
#font pango:monospace 14

#---bar---

bar {
   i3bar_command i3bar 
   status_command i3status 

    position top
    #mode hide
    workspace_buttons yes
    #output eDP1
    #tray_output primary
    tray_padding 0
    separator_symbol "|"

    colors {
    background #23323E
    statusline #dedede
    separator #2d2d2d
focused_workspace    #3297FD #222D3199 #FFFFFF   
# focused_workspace #636e88 #285de7 #dedfdg
active_workspace     #FFFFFF #33333399 #FFFFFF    
#active_workspace #556677 #234567 #56ef67
 inactive_workspace	 #111111 #222D3199 #FFFFFF
    #inactive_workspace #636d72 #2d2d2d #dedede
 urgent_workspace     #990000 #FDF6E399 #FFFFFF   
#urgent_workspace #ffffff #900000 #d23d32
    }

    height 27
}

client.focused          #3297FD #008080 #FFFFFF #333333
client.focused_inactive #2F4F4F #2F4F4F #FFFFFF #3399FF
client.unfocused        #2F4F4F #708090 #FFFFFF #3399FF
client.urgent           #990000 #708090 #FFFFFF #990000
client.placeholder      #000000 #2F4F4F #ffffff #000000 
client.background       #FFFFFF

# tray icons(eDP1 is the display device's name, use the command "xrandr" to see the display device name.)
exec --no-startup-id xrandr --output eDP1 --primary

# external display device(eDP1 is the display device's name, use the command "xrandr" to see the display device name.)
#exec --no-startup-id xrandr --output HDMI1 1920*1080 --right-of eDP1

#===workspace control===

# Workspace names
#workspace "1:Arch" output eDP1
#workspace "2:Web" output eDP1
#workspace "3:Code" output eDP1
#workspace "9:Mail" output eDP1

# putting clients on specific workspaces
assign [class="Chromium"] 1
assign [class="code"] 3


#---switch workspace---

# switch to near workspace
bindsym $mod+Tab workspace next
bindsym mod1+Tab workspace prev


set $ws1 窗口1
set $ws2 窗口2
set $ws3 浏览器
set $ws4 窗口4
set $ws5 窗口5
set $ws6 窗口6
set $ws7 窗口7
set $ws8 窗口8

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1; workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2; workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3; workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4; workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5; workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6; workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7; workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8; workspace $ws8


#===window control===

# fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# kill focused window
bindsym $mod+Shift+q kill

# hide | show window(minus is "-" and plus is "+".)
bindsym $mod+minus move scratchpad
bindsym $mod+plus scratchpad show

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+c layout toggle split

# change border style
bindsym $mod+u border none
bindsym $mod+n border normal
bindsym $mod+o border 1pixel
bindsym $mod+b border toggle

#---window focus---

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# foucus follows mouse(cursor)
focus_follows_mouse yes

# change focus
bindsym $mod1+h focus left
bindsym $mod1+j focus down
bindsym $mod1+k focus up
bindsym $mod1+l focus right
# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# focus the parent container
bindsym $mod+mod4+p focus parent

# focus the child container
#bindsym $mod+d focus child

#---move window---

# Use Mouse+$mod to drag a floating window
floating_modifier $mod

# move floating/tiling window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

#---split window---

# horizontal orientation
bindsym $mod+h split h

# vertical orientation
bindsym $mod+v split v


#---resize window---
bindsym $mod+r mode "resize"

#resize shortcuts (also you can use the mouse for resizing)
mode "resize" {
    bindsym j resize shrink width 10 px or 10 ppt
    bindsym k resize grow height 10 px or 10 ppt
    bindsym l resize shrink height 10 px or 10 ppt
    bindsym semicolon resize grow width 10 px or 10 ppt
    #same bindings, but for the arrow keys
    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Down resize grow height 10 px or 10 ppt
    bindsym Up resize shrink height 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

#===volume control===
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -c 0 -q set Master 2dB+ unmute # && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -c 0 -q set Master 2dB- unmute
bindsym XF86AudioMute exec --no-startup-id amixer -q set Master toggle

#set $refresh_i3status killall -SIGUSR1 i3status
#bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
#bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
#bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
#bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status


#===power manager===

# screen off | sleep | shutdown(time unit: seconds)
#exec --no-startup-id xset dpms 300 1357 6789
exec --no-startup-id xset dpms 365 1357


#===manage i3===

# reload the configuration file
bindsym $mod+Shift+r reload

# restart i3 inplace
bindsym $mod+Shift+s restart

#bindsym Ctrl+mod1+l mode "i3lock: Return to lock/Escape to Cancel"


# exit i3
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"
